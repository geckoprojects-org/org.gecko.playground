<dom-module id="charts-js-json-api">
  <template>
    <style include="vaadin-component-demo-shared-styles">
      :host {
        display: block;
      }
    </style>

    <h3>Using JS JSON API</h3>
    <vaadin-demo-snippet id="charts-js-json-api-example">
      <template preserve-content>
        <js-json-api-demo></js-json-api-demo>
        <dom-module id="js-json-api-demo">
          <template preserve-content>
            <vaadin-chart id="mychart"></vaadin-chart>
          </template>

          <script>
            window.addDemoReadyListener('#charts-js-json-api-example', function() {
              class JSJSONApiDemoElement extends Polymer.Element {
                static get is() {
                  return 'js-json-api-demo';
                }
                connectedCallback() {
                  super.connectedCallback();
                  this.$.mychart.update({
                    title: {
                      text: 'Column chart'
                    },
                    subtitle: {
                      text: 'Subtitle'
                    },
                    xAxis: {
                      categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
                    },
                    series: [{
                      type: 'column',
                      data: [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]
                    }]
                  });
                }
              }
              if (!customElements.get(JSJSONApiDemoElement.is)) {
                customElements.define(JSJSONApiDemoElement.is, JSJSONApiDemoElement);
              }
            });
          </script>
        </dom-module>
      </template>
    </vaadin-demo-snippet>


    <h3>Using JS JSON API with bar type</h3>
    <vaadin-demo-snippet id="charts-js-json-api-with-bar-type-example">
      <template preserve-content>
        <js-json-api-bar-demo> </js-json-api-bar-demo>
        <dom-module id="js-json-api-bar-demo">
          <template preserve-content>
            <vaadin-chart id="barchart"></vaadin-chart>
          </template>

          <script>
            window.addDemoReadyListener('#charts-js-json-api-with-bar-type-example', function() {
              class JSJSONApiBarDemoElement extends Polymer.Element {
                static get is() {
                  return 'js-json-api-bar-demo';
                }
                connectedCallback() {
                  super.connectedCallback();
                  this.$.barchart.update({
                    title: {
                      text: 'Bar chart'
                    },
                    xAxis: {
                      categories: ['Mon', 'Tue', 'Wed', 'Thur', 'Fri', 'Sat', 'Sun']
                    },
                    series: [{
                      type: 'bar',
                      data: [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6]
                    }]
                  });
                }
              }
              if (!customElements.get(JSJSONApiBarDemoElement.is)) {
                customElements.define(JSJSONApiBarDemoElement.is, JSJSONApiBarDemoElement);
              }
            });
          </script>
        </dom-module>
      </template>
    </vaadin-demo-snippet>

  </template>
  <script>
    class ChartsJsJsonApi extends DemoReadyEventEmitter(ChartsDemo(Polymer.Element)) {
      static get is() {
        return 'charts-js-json-api';
      }
    }
    customElements.define(ChartsJsJsonApi.is, ChartsJsJsonApi);
  </script>
</dom-module>